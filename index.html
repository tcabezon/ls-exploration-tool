<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tcabezon-FINAL</title>

    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <!-- Bootstrap -->
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <!-- threejs -->
    <script src="threeJS/three.min.js"></script>
    <script src="threeJS/OrbitControls.js"></script>
    <script src="threeJS/TrackbackControls.js"></script>
    <script src="threeJS/OBJLoader.js"></script>
    <script src="threeJS/3dModel.js"></script>



    <!-- CSS -->
    <link href="styles.css" rel="stylesheet" type="text/css">

    <style>
        section {

            align-items: center;
            display: flex;
            justify-content: center;
            text-align: center;

        }

        .grid {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
    </style>

</head>

<body>


    <div style="position: absolute;margin: 5%;color: white;">
        <h1>Surfing the latent space</h1>
        
        <span class="text-white p-1" id="text_div">-> Exploring tsne visualization. Click on interpolation tool for more. </span>
        <br>
        <!-- <button style="display:none;" type='button' id='reset_button' class=' btn btn-outline-light rounded m-1'
            onclick="reset_selection()">Reset selection TODO</button> -->
    </div>
    <button type='button' id='myButton' style=" position: absolute; bottom: 5%;right: 5%;"
        class='btn btn-outline-light rounded m-1" ' onclick="buttonClicked()">Interpolation tool</button>
    <div class=" m-0 p-0 row" style="width: 100%;">
        <!-- tsne -->
        <div id="myDiv" style="width:100%" class="tsne"></div>

        <!-- tools -->
        <div class="m-0 p-0 row" id="myTools" style="width:34%">

            <!-- img GRID -->
            <div class="m-0 p-0" id="ScreenshotDiv">

                <section id='mySection'>
                    <div id="grid" class="bg-black">
                        <div class="container row align-middle text-center row-cols-2 m-0 p-0 border border-white rounded"
                            id="square">
                        </div>
                        <script>
                            $('#ScreenshotDiv').height(window.innerHeight / 2)
                            console.log('gridDiv', $('#myDiv').width(), $('#myDiv').height())
                            $('#mySection').height(window.innerHeight / 2)
                            let squareDim = Math.min($('#mySection').height(), $('#mySection').width()) * 0.9
                            $('#square').height(squareDim)
                            $('#square').width(squareDim)
                        </script>
                    </div>
                </section>
            </div>

            <!--model view -->
            <div class="col-12 d-inline-block " id="modelView">

                <!-- screenshot -->
                <div class="container p-0 m-0 " id="screenshot">
                    <section id='myScreenshotSection'>
                        <div id="screenshotGrid" class="">

                            <div class="container row align-middle text-center m-0 p-0 border border-white rounded"
                                id="screenshotSquare">

                            </div>
                            <script>
                                // $("#screenshot").hide()
                                $('#modelView').height(window.innerHeight / 2)
                                console.log('screenshotDiv', $('#myDiv').width(), $('#myDiv').height())
                                $('#myScreenshotSection').height(window.innerHeight / 2)
                                squareDim = Math.min($('#myScreenshotSection').height(), $('#myScreenshotSection').width()) * 0.8
                                $('#screenshotSquare').height(squareDim)
                                $('#screenshotSquare').width(squareDim)
                            </script>
                        </div>
                    </section>

                </div>


                <!-- 3D model -->
                <div class="container p-0 m-0 " id="3D_model">
                    <div class="col-12 d-flex m-0 p-0 justify-content-end" id='close_button_div'>
                        <button type='button' id='close_button' class=' btn btn-outline-light rounded m-1'
                            onclick="close_3d()">Close 3D</button>
                    </div>
                    <div lass="col-12 m-0 p-0 bg-white" id="three_js">
                    </div>
                    
                    <script>
                        let filename = "interpolation/elem_94_115_131_213" + '_' + 0 + '_' + 0
                        $("#3D_model").hide()
                        $('#3D_model').height(window.innerHeight / 2)
                        $("#three_js").height(($('#3D_model').height() - $('#close_button_div').height())*0.9 )
                        // OBJViewer_Rotate(filename, "three_js")
                        $("#myTools").hide()
                    </script>

                </div>
            </div>
        </div>
    </div>
    </div>
    <!-- THREE functions -->
    <script src="functions.js"></script>
</body>

</html>